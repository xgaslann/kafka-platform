## NOTE: SASL_SSL config exists below but is not currently active.
## Cluster runs with PLAINTEXT. To enable SASL_SSL:
## 1. Configure kafka_broker_listeners and kafka_controller_listeners
## 2. Run cp-ansible playbook to generate SSL certificates
## See docs/02-kafka-cluster.md for details.

## Confluent Platform Version
confluent_package_version: "8.1.0"

kafka_controller_enabled: true

ssl_enabled: true
sasl_protocol: scram512

## SSL Certificate Generation (Self-signed for dev/test)
ssl_self_signed: true
ssl_self_signed_ca_cert_generation: true
ssl_self_signed_ca_key_generation: true

## Regenerate certificates if needed
regenerate_ca: false
regenerate_keystore_and_truststore: false

## SCRAM Users
sasl_scram_users:
  admin:
    principal: admin
    password: "{{ vault_kafka_admin_password }}"
  kafka:
    principal: kafka
    password: "{{ vault_kafka_broker_password }}"
  client:
    principal: client
    password: "{{ vault_kafka_client_password }}"

## Controller Listener (internal communication)
kafka_controller_sasl_protocol: scram512

## JMX Configuration
kafka_broker_jmxremote_port: 9999
kafka_controller_jmxremote_port: 9998

## Kafka Broker Custom Properties
kafka_broker_custom_properties:
  default.replication.factor: 3
  min.insync.replicas: 2
  num.partitions: 3
  log.retention.hours: 168
  auto.create.topics.enable: false

## Kafka Controller Custom Properties
kafka_controller_custom_properties:
  controller.quorum.election.timeout.ms: 1000
  controller.quorum.fetch.timeout.ms: 2000

## Data directories
kafka_broker_log_dir: /var/lib/kafka/data
kafka_controller_log_dir: /var/lib/kafka-controller/data

## Health Checks
health_checks_enabled: true

## Installation method
installation_method: package

## Python Interpreter
ansible_python_interpreter: /usr/bin/python3

## Listener Configuration for SASL_SSL
kafka_broker_listeners:
  internal:
    name: INTERNAL
    port: 9092
    ssl_enabled: true
    sasl_protocol: scram512
  broker:
    name: BROKER
    port: 9091
    ssl_enabled: true
    sasl_protocol: scram512

kafka_controller_listeners:
  controller:
    name: CONTROLLER
    port: 9093
    ssl_enabled: true
    sasl_protocol: scram512